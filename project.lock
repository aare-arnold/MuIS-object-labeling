convert:
  cmd: python -m spacy run convert
  script:
    - python scripts/convert.py et assets/train.csv assets/unique_types.csv corpus/train.spacy
    - python scripts/convert.py et assets/eval.csv assets/unique_types.csv corpus/dev.spacy
  deps:
    - path: assets/train.csv
      md5: fc563da9f90e3388f94a84b9ad0727fa
    - path: assets/eval.csv
      md5: ff9de2afadec7f23f3d86ab120ae05ab
    - path: scripts/convert.py
      md5: dc34368179338dafc1936f3fb6075790
  outs:
    - path: corpus/train.spacy
      md5: a10962b77fa4163e0792c946e1989f47
    - path: corpus/dev.spacy
      md5: eab471c23575cac90da2c0c6019f7dcf
  spacy_version: 3.4.1
  spacy_git_version: 5c2a00cef
clean:
  cmd: python -m spacy run clean
  script:
    - rm -rf training
    - rm -rf metrics
    - rm -rf corpus
  deps: []
  outs: []
  spacy_version: 3.4.1
  spacy_git_version: 5c2a00cef
train:
  cmd: python -m spacy run train
  script:
    - python -m spacy train configs/config.cfg --output training/ --paths.train corpus/train.spacy
      --paths.dev corpus/dev.spacy --nlp.lang et --gpu-id -1
  deps:
    - path: configs/config.cfg
      md5: 072a0c2db98946adbfef400a17ec2e55
    - path: corpus/train.spacy
      md5: a10962b77fa4163e0792c946e1989f47
    - path: corpus/dev.spacy
      md5: eab471c23575cac90da2c0c6019f7dcf
  outs:
    - path: training/model-best
      md5: 2177e60ea05be8992a93d76802406d8f
  spacy_version: 3.4.1
  spacy_git_version: 5c2a00cef
evaluate:
  cmd: python -m spacy run evaluate
  script:
    - python -m spacy evaluate training/model-best corpus/dev.spacy --output training/metrics.json
  deps:
    - path: corpus/dev.spacy
      md5: 9961d06d6ff9959c1e8a3580861f0604
    - path: training/model-best
      md5: e228c0b40a2266394f5c112f16cf4057
  outs:
    - path: training/metrics.json
      md5: ffdbfb7675447dde48825a676743154c
  spacy_version: 3.4.1
  spacy_git_version: 5c2a00cef
test:
  cmd: python -m spacy run test
  script:
    - python scripts/test.py training/model-best assets/test.csv assets/submission.csv
  deps:
    - path: assets/test.csv
      md5: 50e2d9247803cd0ef645f96840ecb03d
    - path: training/model-best
      md5: 2177e60ea05be8992a93d76802406d8f
  outs:
    - path: assets/submission.csv
      md5: c960fcba6a604648b8b32cc84500e493
  spacy_version: 3.4.1
  spacy_git_version: 5c2a00cef
preprocess:
  cmd: python -m spacy run preprocess
  script:
    - python scripts/preprocess.py assets/train.csv assets/eval.csv
  deps:
    - path: assets/train.csv
      md5: fc563da9f90e3388f94a84b9ad0727fa
    - path: scripts/preprocess.py
      md5: 8bd766d1b32b50c869d70b0f44cb64e4
  outs:
    - path: assets/eval.csv
      md5: ff9de2afadec7f23f3d86ab120ae05ab
  spacy_version: 3.4.1
  spacy_git_version: 5c2a00cef
